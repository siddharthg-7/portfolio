<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="/src/assets/image.png" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <style>
    body {
      background-color: #0a0e27;
      margin: 0;
      color: white;
      font-family: sans-serif;
    }
  </style>
  <script>
    // Forcefully unregister service workers at the earliest possible stage
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(function (registrations) {
        for (var i = 0; i < registrations.length; i++) {
          registrations[i].unregister();
        }
        if (registrations.length > 0) {
          console.log('Old Service Workers purged.');
          // Reload one time if we found and purged workers to fetch new assets
          if (!window.location.search.includes('purged=true')) {
            window.location.search = (window.location.search ? window.location.search + '&' : '?') + 'purged=true';
          }
        }
      });
    }

    window.onerror = function (msg, url, lineNo, columnNo, error) {
      console.error('Initial Load Error:', msg, url, lineNo, columnNo, error);
      var display = document.getElementById('error-display');
      if (!display) {
        display = document.createElement('div');
        display.id = 'error-display';
        display.style.position = 'fixed';
        display.style.top = '0';
        display.style.left = '0';
        display.style.width = '100%';
        display.style.padding = '15px';
        display.style.background = '#ff0055';
        display.style.color = 'white';
        display.style.zIndex = '99999';
        display.style.fontFamily = 'monospace';
        display.style.fontSize = '12px';
        document.body.appendChild(display);
      }
      display.innerHTML = '<strong>Deployment Sync Error:</strong> ' + msg + '<br>' +
        '<small>The site is trying to load old files. Try pressing <strong>Ctrl + F5</strong> or </small>' +
        '<button onclick="localStorage.clear(); sessionStorage.clear(); location.reload(true);" style="margin-left:10px; cursor:pointer; padding:2px 10px;">Clear Cache & Retry</button>';
      return false;
    };

    // Failsafe: if nothing renders in 6 seconds, show a manual refresh trigger
    setTimeout(function () {
      if (!document.getElementById('root') || document.getElementById('root').innerHTML === '') {
        var failsafe = document.createElement('div');
        failsafe.style.position = 'fixed';
        failsafe.style.bottom = '20px';
        failsafe.style.right = '20px';
        failsafe.style.padding = '20px';
        failsafe.style.background = 'rgba(0, 240, 255, 0.1)';
        failsafe.style.border = '1px solid #00f0ff';
        failsafe.style.color = '#00f0ff';
        failsafe.style.zIndex = '100000';
        failsafe.style.borderRadius = '8px';
        failsafe.style.backdropFilter = 'blur(10px)';
        failsafe.innerHTML = '<p style="margin:0 0 10px 0">Still seeing a blank page?</p>' +
          '<button onclick="location.reload(true)" style="background:#00f0ff; border:none; color:#0a0e27; padding:8px 15px; border-radius:4px; cursor:pointer; font-weight:bold">Force Update Site</button>';
        document.body.appendChild(failsafe);
      }
    }, 6000);
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- SEO Meta Tags -->
  <title>Gilakathi Siddhartha Goud | Full-Stack Developer & AI Enthusiast</title>
  <meta name="description"
    content="Second-year B.Tech IT student specializing in full-stack development and AI-powered systems. Building scalable applications and solving real-world problems." />
  <meta name="keywords"
    content="Gilakathi Siddhartha Goud, Full-Stack Developer, Software Engineer, AI Developer, Web Development, React, Node.js, Portfolio" />
  <meta name="author" content="Gilakathi Siddhartha Goud" />

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="Gilakathi Siddhartha Goud | Full-Stack Developer" />
  <meta property="og:description"
    content="Second-year B.Tech IT student building scalable full-stack and AI-powered systems" />
  <meta property="og:type" content="website" />

  <!-- Theme Color -->
  <meta name="theme-color" content="#00d4ff" />

  <!-- Structured Data -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Gilakathi Siddhartha Goud",
      "jobTitle": "Full-Stack Developer",
      "url": "https://github.com/siddharthg-7",
      "sameAs": [
        "https://linkedin.com/in/gilakathi-siddhartha-goud-a51ba3325",
        "https://github.com/siddharthg-7"
      ],
      "description": "Second-year B.Tech IT student specializing in full-stack development and AI-powered systems.",
      "knowsAbout": ["Full-Stack Development", "Artificial Intelligence", "React", "Node.js", "Software Engineering"]
    }
  </script>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>
</body>

</html>